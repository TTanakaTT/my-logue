@import 'material-symbols/index.css';
@import 'tailwindcss';

@theme {
  --color-panel: #1d1d1d;
  --color-logbg: oklch(0.1638 0 89.88);
  --color-hp-dead: oklch(62.971% 0.25586 29.001);
  --color-hp-max: oklch(86.65% 0.29439 142.555);
  --color-mod-down: oklch(62.971% 0.25586 29.001);
  --color-mod-up: oklch(86.65% 0.29439 142.555);
  --color-kind-system: oklch(0.3521 0.0493 262.34);
  --color-kind-combat: oklch(0.349 0.059 20.51);
  --color-kind-event: oklch(0.3638 0.0481 84.26);
  --color-kind-rest: oklch(0.3696 0.0694 152.19);
  --color-side-player: var(--color-green-600);
  --color-side-enemy: var(--color-red-600);

  /* Effect icon colors */
  --color-guard-icon: var(--color-emerald-300);
  --color-strike-attacker-icon: var(--color-amber-400);
  --color-strike-hit-icon: var(--color-red-400);
  --color-curse-cast-icon: var(--color-purple-300);
  --color-poison-tick-icon: var(--color-violet-300);
  --color-default-icon: var(--color-slate-300);

  /* Floating numbers */
  --color-float-damage-bg: color-mix(in oklab, var(--color-red-500) 90%, transparent);
  --color-float-damage-fg: white;
  --color-float-heal-bg: color-mix(in oklab, var(--color-emerald-500) 90%, transparent);
}

@layer utilities {
  .btn-base {
    @apply px-3 py-2 rounded-md bg-gray-700 hover:bg-gray-600 border border-gray-500 text-sm disabled:opacity-50 disabled:cursor-not-allowed;
  }
  .log-kind-system {
    background: var(--color-kind-system);
    color: #aac6ff;
  }
  .log-kind-combat {
    background: var(--color-kind-combat);
    color: #ff9d9d;
  }
  .log-kind-event {
    background: var(--color-kind-event);
    color: #ffd88a;
  }
  .log-kind-rest {
    background: var(--color-kind-rest);
    color: #9dffbc;
  }
  .log-side-player {
    background: var(--color-side-player);
  }
  .log-side-enemy {
    background: var(--color-side-enemy);
  }
  .panel-side-player {
    border-color: var(--color-side-player);
  }
  .panel-side-enemy {
    border-color: var(--color-side-enemy);
  }

  /* Effect animations and helpers (moved from component styles) */
  @keyframes floatUp {
    0% {
      opacity: 0;
      transform: translateY(8px) scale(0.9);
    }
    20% {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
    100% {
      opacity: 0;
      transform: translateY(-24px) scale(0.95);
    }
  }
  @keyframes pop {
    0% {
      transform: scale(0.6);
      opacity: 0;
    }
    60% {
      transform: scale(1.05);
      opacity: 1;
    }
    100% {
      transform: scale(1);
      opacity: 0;
    }
  }
  @keyframes punch {
    0% {
      transform: translateX(-30%) scale(0.7);
      opacity: 0;
    }
    70% {
      transform: translateX(0) scale(1.05);
      opacity: 1;
    }
    100% {
      transform: translateX(10%) scale(0.98);
      opacity: 0;
    }
  }
  @keyframes burst {
    0% {
      transform: scale(0.6) rotate(-10deg);
      opacity: 0;
    }
    60% {
      transform: scale(1.1) rotate(5deg);
      opacity: 1;
    }
    100% {
      transform: scale(0.9) rotate(0deg);
      opacity: 0;
    }
  }
  @keyframes fadeup {
    0% {
      transform: translateY(12px) scale(0.8);
      opacity: 0;
    }
    100% {
      transform: translateY(0) scale(1);
      opacity: 1;
    }
  }
  @keyframes wiggle {
    0% {
      transform: rotate(0deg);
    }
    25% {
      transform: rotate(6deg);
    }
    50% {
      transform: rotate(-6deg);
    }
    75% {
      transform: rotate(4deg);
    }
    100% {
      transform: rotate(0deg);
      opacity: 0;
    }
  }

  .animate-float-up {
    animation: floatUp 1.5s ease-out forwards;
  }
  .animate-pop {
    animation: pop 0.6s ease-out forwards;
  }
  .animate-punch {
    animation: punch 0.35s ease-out forwards;
  }
  .animate-burst {
    animation: burst 0.5s ease-out forwards;
  }
  .animate-fadeup {
    animation: fadeup 0.45s ease-out forwards;
  }
  .animate-wiggle {
    animation: wiggle 0.5s ease-out forwards;
  }
}
